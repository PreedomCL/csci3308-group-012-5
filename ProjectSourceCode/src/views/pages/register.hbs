<div class="container mt-1">
    {{#unless email}}
    <div class="container">
        {{> gsignin}}
    </div>
    {{/unless}}
    <form class="needs-validation" {{!--align="center"--}} method="post" action="/register" enctype="multipart/form-data"
        novalidate>

        <div class="form-group mb-3">
            {{#if email}}
            <h1>Finish Setting up Your Account</h1>
            {{else}}
            <h1>Register</h1>
            {{/if}}
            <div class="form-group mb-3">
                <label for="user_type">Account Type</label> <br />
                <select id="user_type" name="type" class="form-select" required>
                    <option value="" selected disabled>Select Account Type</option>
                    <option value="Student">Student</option>
                    <option value="Tutor">Tutor</option>
                </select>
            </div>
        </div>
        <div>
            <div class="d-flex justify-content-center mb-4">
                <img id="selectedAvatar" src="https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg"
                    class="rounded-circle" style="width: 200px; height: 200px; object-fit: cover;"
                    alt="example placeholder" />
            </div>
            <div class="d-flex justify-content-center">
                <div data-mdb-ripple-init class="btn btn-color btn-rounded">
                    <label class="form-label text-white m-1" for="user_image">Choose Optional Profile Image</label>
                    <input type="file" class="form-control d-none" name="profileimagedata" id="user_image"
                        onchange="displaySelectedImage(event)" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-6 mb-3">
                <label for="email_input">Email</label> <br />
                <input type="email" name="email" class="form-control" id="email_input" placeholder="Enter email" {{#if
                    email}} value="{{email}}" disabled{{/if}} required pattern="^[\w\-\.]+@([\w\-]+\.)+[\w\-]{2,4}$">
            </div>
            {{#unless email}}
            <div class="form-group col-md-6">
                <label for="password_input">Password</label>
                <input type="password" name="password" class="form-control" id="password_input"
                    placeholder="Enter password" required>
            </div>
            {{/unless}}
        </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="name_input">Full Name</label>
                <input type="text" name="name" class="form-control" id="name_input" placeholder="Enter full name" {{#if
                    name}}value="{{name}}" disabled{{/if}} required maxlength="50">
            </div>
            <div class="dropdown col-md-6">
                <label for="year_input">Select Your Year of Schooling</label> <br />
                <select id="year_input" name="year" class="form-select" onchange="" required>
                    <option value="" selected disabled>Select Year</option>
                    <option value="Freshman">Freshman</option>
                    <option value="Sophomore">Sophomore</option>
                    <option value="Junior">Junior</option>
                    <option value="Senior">Senior</option>
                    <option value="Grad">Grad</option>
                </select>
            </div>
        <div class="row">
            <div class="form-group col-md-6">
                <label for="degree_input">Degree Focus</label>
                <select id="degree_input" name="degree" class="form-control" onchange=""
                    data-bs-toggle="dropdown" aria-expanded="false" required>
                    <option value="" disabled selected>Select Degree Focus</option>
                    <option value="Arts & Humanities">Arts & Humanities</option>
                    <option value="Business & Economics">Business & Economics</option>
                    <option value="Communication & Media">Communication & Media</option>
                    <option value="Computer Science">Computer Science</option>
                    <option value="Education">Education</option>
                    <option value="Engineering & Technology">Engineering & Technology</option>
                    <option value="Environmental Studies">Environmental Studies</option>
                    <option value="Health Sciences & Medicine">Health Sciences & Medicine</option>
                    <option value="Languages & Linguistics">Languages & Linguistics</option>
                    <option value="Law & Legal Studies">Law & Legal Studies</option>
                    <option value="Life Sciences & Biology">Life Sciences & Biology</option>
                    <option value="Mathematics & Statistics">Mathematics & Statistics</option>
                    <option value="Physical Sciences">Physical Sciences</option>
                    <option value="Social Sciences">Social Sciences</option>
                </select>
            </div>
            <div class="dropdown col-md-6 mr-1">
                <label id="classes_label" for="classes_input">Classes Needing Tutoring For</label>
                <select id="classes_input" name="classes" class="form-control" size="6" onchange="" multiple
                    data-bs-toggle="dropdown" aria-expanded="false" required>
                    <option value="" disabled>(Hold ctrl to select multiple)</option>
                    <option value="ACCT">Accounting (ACCT)</option>
                    <option value="APRD">Advertising, PR, Media Design (APRD)</option>
                    <option value="ASEN">Aerospace Engineering (ASEN)</option>
                    <option value="AIRR">Air Force Aerospace Studies (AIRR)</option>
                    <option value="ANTH">Anthropology (ANTH)</option>
                    <option value="APPM">Applied Math (APPM)</option>
                    <option value="ARAB">Arabic (ARAB)</option>
                    <option value="AREN">Architectural Engineering (AREN)</option>
                    <option value="ARCH">Architecture (ARCH)</option>
                    <option value="ARTF">Art Film Studies (ARTF)</option>
                    <option value="ARTH">Art History (ARTH)</option>
                    <option value="ARTS">Art Studio and Non-Studio (ARTS)</option>
                    <option value="AHUM">Arts &amp; Humanities (AHUM)</option>
                    <option value="ARSC">Arts &amp; Sciences Courses (ARSC)</option>
                    <option value="ASIA">Asian Studies (ASIA)</option>
                    <option value="ASTR">Astrophysical &amp; Planetary Sci (ASTR)</option>
                    <option value="ATLS">ATLAS (ATLS)</option>
                    <option value="ATOC">Atmospheric &amp; Oceanic Sciences (ATOC)</option>
                    <option value="BASE">BCOR Applied Semester Exper (BASE)</option>
                    <option value="BCHM">Biochemistry (BCHM)</option>
                    <option value="BIEN">Biological Engineering (BIEN)</option>
                    <option value="BMEN">Biomedical Engineering (BMEN)</option>
                    <option value="BADM">Business Administration (BADM)</option>
                    <option value="BCOR">Business Core (BCOR)</option>
                    <option value="BPOL">Business Environment &amp; Policy (BPOL)</option>
                    <option value="BSLW">Business Law (BSLW)</option>
                    <option value="BUSM">Business Minor (BUSM)</option>
                    <option value="BUSO">Business of Nonprofits (BUSO)</option>
                    <option value="CSVC">Career Services (CSVC)</option>
                    <option value="CWCV">Center for Western Civilizatio (CWCV)</option>
                    <option value="CAMW">Center of the American West (CAMW)</option>
                    <option value="CHEN">Chemical Engineering (CHEN)</option>
                    <option value="CHEM">Chemistry (CHEM)</option>
                    <option value="CHIN">Chinese (CHIN)</option>
                    <option value="CINE">Cinema Stds/Moving Image Arts (CINE)</option>
                    <option value="CVEN">Civil Engineering (CVEN)</option>
                    <option value="GREK">Classical Greek Language (GREK)</option>
                    <option value="CLAS">Classics (CLAS)</option>
                    <option value="COEN">Coll of Engineerng&amp;App Sci Adm (COEN)</option>
                    <option value="CMCI">Coll of Media,Commncation,Info (CMCI)</option>
                    <option value="COMM">Communication (COMM)</option>
                    <option value="COML">Comparative Literature (COML)</option>
                    <option value="CSCI">Computer Science (CSCI)</option>
                    <option value="CSPB">Computer Science Post Bacc (CSPB)</option>
                    <option value="CCOM">Corporate Communication (CCOM)</option>
                    <option value="CMDP">Critical Media Practices (CMDP)</option>
                    <option value="CESR">Curr Emphasis in Soc Respnsbly (CESR)</option>
                    <option value="DNCE">Dance (DNCE)</option>
                    <option value="DTSC">Data Science (DTSC)</option>
                    <option value="DHUM">Digital Humanities (DHUM)</option>
                    <option value="EBIO">Ecology &amp; Evolutionary Biology (EBIO)</option>
                    <option value="ECON">Economics (ECON)</option>
                    <option value="EDUC">Education (EDUC)</option>
                    <option value="EDUA">Education (EDUA)</option>
                    <option value="ECEN">Electrical &amp; Computer Engr (ECEN)</option>
                    <option value="ENED">Engineering Education (ENED)</option>
                    <option value="ENLP">Engineering Leadership Program (ENLP)</option>
                    <option value="EMEN">Engineering Management (EMEN)</option>
                    <option value="ENES">Engineering, Ethics &amp; Society (ENES)</option>
                    <option value="ENGL">English (ENGL)</option>
                    <option value="ESLG">English as a Second Language (ESLG)</option>
                    <option value="ESBM">Entrepren &amp; Small Bus Mgmt (ESBM)</option>
                    <option value="ENVD">Environmental Design (ENVD)</option>
                    <option value="EVEN">Environmental Engineering (EVEN)</option>
                    <option value="EPOD">Environmental Prod of Design (EPOD)</option>
                    <option value="ENVS">Environmental Studies (ENVS)</option>
                    <option value="ETHN">Ethnic Studies (ETHN)</option>
                    <option value="FNCE">Finance (FNCE)</option>
                    <option value="FYXP">First Year Exploration (FYXP)</option>
                    <option value="FREN">French (FREN)</option>
                    <option value="GEEN">General Engineering (GEEN)</option>
                    <option value="GEOG">Geography (GEOG)</option>
                    <option value="GEOL">Geological Sciences (GEOL)</option>
                    <option value="GRMN">German (GRMN)</option>
                    <option value="GSLL">Germanic &amp; Slavic Lang &amp; Lit (GSLL)</option>
                    <option value="GRAD">Graduate School (GRAD)</option>
                    <option value="HEBR">Hebrew (HEBR)</option>
                    <option value="HIND">Hindi/Urdu (HIND)</option>
                    <option value="HIST">History (HIST)</option>
                    <option value="HONR">Honors (HONR)</option>
                    <option value="HUMN">Humanities (HUMN)</option>
                    <option value="INDO">Indonesian (INDO)</option>
                    <option value="BAIM">Infm Mgmt/Business Analytics (BAIM)</option>
                    <option value="INFO">Information Science (INFO)</option>
                    <option value="IPHY">Integrative Physiology (IPHY)</option>
                    <option value="IAFS">International Affairs (IAFS)</option>
                    <option value="INBU">International Business Cert (INBU)</option>
                    <option value="IAWP">Intrmedia Art,Wrtg,Performance (IAWP)</option>
                    <option value="INVS">INVST Community Studies (INVS)</option>
                    <option value="ITAL">Italian (ITAL)</option>
                    <option value="JPNS">Japanese (JPNS)</option>
                    <option value="JWST">Jewish Studies (JWST)</option>
                    <option value="JRNL">Journalism (JRNL)</option>
                    <option value="KREN">Korean (KREN)</option>
                    <option value="LAND">Landscape Architecture (LAND)</option>
                    <option value="LAMS">Latin American Studies (LAMS)</option>
                    <option value="LATN">Latin Language (LATN)</option>
                    <option value="LAWS">Law School (LAWS)</option>
                    <option value="LEAD">Leadership (LEAD)</option>
                    <option value="LGBT">Lesbn/Gay/Bisexual Stdys (LGBT)</option>
                    <option value="LING">Linguistics (LING)</option>
                    <option value="MGMT">Management (MGMT)</option>
                    <option value="MKTG">Marketing (MKTG)</option>
                    <option value="ENVM">Master of the Environment (ENVM)</option>
                    <option value="MSEN">Materials Science&amp;Engineering (MSEN)</option>
                    <option value="MATH">Mathematics (MATH)</option>
                    <option value="MBAX">MBA Advanced Electives (MBAX)</option>
                    <option value="MBAC">MBA Core (MBAC)</option>
                    <option value="MCEN">Mechanical Engineering (MCEN)</option>
                    <option value="MDST">Media Studies (MDST)</option>
                    <option value="MILR">Military Science (MILR)</option>
                    <option value="MCDB">Molecular Cell &amp; Dev Biology (MCDB)</option>
                    <option value="MSBC">MS Business Core (MSBC)</option>
                    <option value="MSBX">MS Business Electives (MSBX)</option>
                    <option value="MUSM">Museum (MUSM)</option>
                    <option value="MUSC">Music (MUSC)</option>
                    <option value="MUEL">Music Electives (MUEL)</option>
                    <option value="EMUS">Music Ensemble (EMUS)</option>
                    <option value="NAVR">Naval Science (NAVR)</option>
                    <option value="NRSC">Neuroscience (NRSC)</option>
                    <option value="NRLN">Norlin Scholars (NRLN)</option>
                    <option value="OPIM">Operations &amp; Information MGMT (OPIM)</option>
                    <option value="ORMG">Organization Management (ORMG)</option>
                    <option value="ORGN">Organizational Behavior (ORGN)</option>
                    <option value="ORGL">Organizational Leadership (ORGL)</option>
                    <option value="OREC">Outdoor Recreation Economy (OREC)</option>
                    <option value="PACS">Peace &amp; Conflict Studies (PACS)</option>
                    <option value="PMUS">Performance Music (PMUS)</option>
                    <option value="PHIL">Philosophy (PHIL)</option>
                    <option value="PHYS">Physics (PHYS)</option>
                    <option value="PLAN">Planning and Urban Design (PLAN)</option>
                    <option value="PSCI">Political Science (PSCI)</option>
                    <option value="PORT">Portuguese (PORT)</option>
                    <option value="PRLC">Presidents Leadership Class (PRLC)</option>
                    <option value="PSYC">Psychology (PSYC)</option>
                    <option value="PBHL">Public Health (PBHL)</option>
                    <option value="QUEC">Quechua Language Courses (QUEC)</option>
                    <option value="REAL">Real Estate (REAL)</option>
                    <option value="RLST">Religious Studies (RLST)</option>
                    <option value="ROBO">Robotics (ROBO)</option>
                    <option value="RUSS">Russian (RUSS)</option>
                    <option value="REES">Russian/Eastern European Stds (REES)</option>
                    <option value="SCAN">Scandinavian (SCAN)</option>
                    <option value="SOCY">Sociology (SOCY)</option>
                    <option value="SPAN">Spanish (SPAN)</option>
                    <option value="SLHS">Speech, Language &amp; Hearing Sci (SLHS)</option>
                    <option value="STAT">Statistics (STAT)</option>
                    <option value="SWED">Swedish (SWED)</option>
                    <option value="CYBR">Technology, Cybersec &amp; Policy (CYBR)</option>
                    <option value="THDN">Theater &amp; Dance (THDN)</option>
                    <option value="THTR">Theatre (THTR)</option>
                    <option value="TMUS">Thesis Music (TMUS)</option>
                    <option value="TBTN">Tibetan (TBTN)</option>
                    <option value="WGST">Women and Gender Studies (WGST)</option>
                    <option value="WRTG">Writing and Rhetoric (WRTG)</div></div>
                </select>
            </div>
        </div>
        <div class="row">

        </div>
            <div class="form-group col-md-6">
                <label for="bio_input">Bio</label>
                <textarea type="text" name="bio" class="form-control" id="bio_input" placeholder="Enter a Short Bio"
                    required maxlength="200" rows="4" style="resize: none;"></textarea>
            </div>          
            <div class="dropdown col-md-6 mr-1">
                <label id="learning_label" for="learning_input">Pick Your Learning Style</label> <br />
                <select id="learning_input" name="learning" class="form-select" onchange="" required>
                    <option value="" selected disabled>Select Style</option>
                    <option value="Visual">Visual</option>
                    <option value="Auditory">Auditory</option>
                    <option value="Hands">Hands-on</option>
                    <option value="Writing">Reading/Writing</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <button class="btn btn-color" type='submit'>Create Account</button><br />
                {{#unless email}}
                <p style="margin-top: 4px;">Already have an account? <a href="/login">Login</a></p>
                {{/unless}}
            </div>
        </div>
    </form>
</div>

<script src="/resources/js/register.js"></script>

<script>
    // function to display user image in registration 
    function displaySelectedImage(event) {
        const file = event.target.files[0]; //grabs first file user selects
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                const base64 = e.target.result;
                document.getElementById("selectedAvatar").src = base64;
            };
            reader.readAsDataURL(file);
        }
    }
</script>

<script>
    (() => {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation');

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        });
    })()
</script>